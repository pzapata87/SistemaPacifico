@model IEnumerable<SistemaPacifico.Models.ComisionModel>

@{
    ViewBag.Title = "Listar";
}

@using (Html.BeginForm("Index", "Comision", FormMethod.Post))
{
    <div class="container">
        <hr />
        <table style="width: 85%" class="fondo" align="center">
            <tr>
                <td>Comisión: </td>
                <td><input id="txtNombreComision" type="text" class="form-control" value="@ViewBag.NombreComision" name="nombreComision" /></td>
                <td></td>
                <td>Canal Venta: </td>
                <td><input id="txtCanalVenta" type="text" class="form-control" value="@ViewBag.CanalVenta" name="canalVenta" /></td>
            </tr>
            <tr>
                <td>Campaña: </td>
                <td><input id="txtCampania" type="text" class="form-control" value="@ViewBag.Campania" name="campania" /></td>
                <td colspan="2"><button type="submit" class="btn btn-primary">Buscar</button></td>
                <td></td>
            </tr>
        </table>
        <br />
        <table class="table table-striped">
            <tr>
                <th>Código Comisión</th>
                <th>Nombre Comisión</th>
                <th>Fecha Registro</th>
                <th>Campaña</th>
                <th>Canal Venta</th>
                <th>Cargo Comisionista</th>
                <th>&nbsp;</th>
                <th>&nbsp;</th>
            </tr>
            @if (Model.Any())
            {
                foreach (var item in Model)
                 {
                     <tr>
                         <td>
                             @Html.DisplayFor(modelItem => item.CodigoComision)
                         </td>
                         <td>
                             @Html.DisplayFor(modelItem => item.NombreComision)
                         </td>
                         <td>
                             @Html.DisplayFor(modelItem => item.FechaRegistro)
                         </td>
                         <td>
                             @Html.DisplayFor(modelItem => item.CampaniaNombre)
                         </td>
                         <td>
                             @Html.DisplayFor(modelItem => item.CanalVentaNombre)
                         </td>
                         <td>
                             @Html.DisplayFor(modelItem => item.CargoNombre)
                         </td>
                         <td>
                             @Html.ActionLink("Ver", "VerComision", new {id = item.CodigoComision})
                         </td>
                         <td>
                             @Html.ActionLink("Editar", "EditarComision", new {id = item.CodigoComision})
                         </td>
                     </tr>
                 }
            }
            else
            {
                <tr>
                    <td colspan="8">
                        <div id="labelError" class="alert alert-danger">
                            No se encontraron comisiones relacionadas
                        </div>
                    </td>
                </tr>
            }
        </table>
        <table style="width: 100%">
            <tr>
                <td>
                    <p>
                        <a href="@Url.Action("CrearComision", "Comision")" class="btn btn-primary">Nuevo</a>
                    </p>
                </td>
            </tr>
        </table>
    </div>
}

